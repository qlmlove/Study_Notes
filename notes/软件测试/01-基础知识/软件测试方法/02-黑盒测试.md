# 黑盒测试

[TOC]

黑盒测试也叫功能测试，主要用来检测每个功能是否都能正常使用。它也是在软件测试中使用最广泛的一类测试。

通常是把程序看做一个不能打开的黑盒子，在完全不考虑内部结构和内部特性的情况下，对程序接口进行测试，它只检查程序功能是否按照需求规格说明书的规定正常使用，程序是否能适当地接收输入数据而产生正确的输出信息。

由于不考虑内部逻辑结构，主要针对软件界面和软件功能进行测试，所以黑河测试是以用户的角度，从输入数据到输出数据的对应关系出发进行的测试。关注的是软件的功能需求，主要试图发现以下类型的错误：

1. 功能是否正确，是否有遗漏。
2. 界面是否错误。
3. 数据结构或外部数据库访问错误。
4. 性能错误或过低。
5. 初始化和终止错误。

在实际工作中，**最常见的黑盒测试方法有：**

- 功能测试
- 性能测试
- 安全性测试
- 兼容性测试
- 稳定性测试
- 可靠性测试
- 安装卸载测试等

***黑盒测试用例设计方法包括***

- 等价类划分法
- 边界值分析法
- 判定表分析法
- 因果图分析法
- 正交试验法
- 流程分析法
- 状态迁移法
- 异常分析法
- 错误推测法等

## 等价类划分法

**等价类划分法**是一种典型的黑盒测试用例设计方法，使用等价类划分，是将软件的输入域分为若干个部分，然后从每个部分中选取少量的具有代表性的数据进行测试，这样可以避免穷举产生的大量用例。

**等价类**是指某个输入域的子集合，在该子集合中，每个输入数据对于揭露软件中的错误都是等效的。简单地说，就是指**输入该输入域中的某一个数据，如不能揭露被测对象中的缺陷，那么我们就说这个输入域中的所有数据都无法揭露该缺陷，反之亦然。**

#### 等价类划分的两种形式：

1）有效等价类：对需求规格说明而言，合理的、有效的输入数据构成的集合。

2）无效等价类：对需求规格说明而言，不合理的、无效的输入数据构成的集合。

#### 等价类划分法的划分原则，通常按照以下规则进行划分等价类：

1）**如果规定输入的取值范围或个数时，则划分一个有效等价类和两个无效等价类。**如：注册用户名的长度限制6～18个字符，6～18个字符是有效等价类，小于6个字符和大于18个字符则是两个无效等价类。

2）**如果规定了输入的集合或规则必须要遵循的条件，则划分一个有效等价类，和一个无效等价类。**如：注册用户名的格式要求必须以字母开头时，以字母开头是有效等价类，非字母开头则是无效等价类。

3）**如果输入条件是一个布尔值，则划分为一个有效等价类和一个无效等价类。**如：在注册用户时需要遵循协议或条款是否接受时，“接受”是有效等价类，“不接受”则是无效等价类。

4）**如果输入条件是一组数据（枚举值），并且程序对每一个输入的值做不同的处理，则化为若干个有效等价类和一个无效等价类。**如：网游中充值VIP等级（3个等价），对每个VIP的等级优惠不同，VIP1、VIP2、VIP3不同等级是三个有效等价类，不是VIP用户则是无效等价类。

5）**如果输入条件规定了必须要遵循的某些规则下，则划分为一个有效等价类和若干个无效等价类（无效等价类需要从不同的角度去违反规则）。**如：密码要求首位必须是大写字母的，首字母大写是有效等价类，首位小写字母的、首位为数字的或首位为特殊字符的则是无效等价类。

6）**不是所有的等价类都有无效等价类。**如性别的选择只有男或女两种。